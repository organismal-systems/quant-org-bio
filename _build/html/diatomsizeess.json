{"version":3,"kind":"Notebook","sha256":"a55be6be6b42fdf21f1bfd511bec1416a7c92df1e547a1be858e6f10111a43de","slug":"diatomsizeess","location":"/subrepos/demography/DiatomSizeESS/DiatomSizeESS.ipynb","dependencies":[],"frontmatter":{"title":"üßÆ Size-selection of diatoms in fluctuating environments","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Daniel Gr√ºnbaum","given":"Daniel","family":"Gr√ºnbaum"},"name":"Daniel Gr√ºnbaum","affiliations":["School of Oceanography, University of Washington"],"id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-NC-SA-4.0","url":"https://creativecommons.org/licenses/by-nc-sa/4.0/","name":"Creative Commons Attribution Non Commercial Share Alike 4.0 International","CC":true}},"github":"https://github.com/organismal-systems/quant-org-bio","keywords":["models"],"copyright":"2025","affiliations":[{"id":"School of Oceanography, University of Washington","name":"School of Oceanography, University of Washington"}],"numbering":{"title":{"offset":3}},"source_url":"https://github.com/organismal-systems/quant-org-bio/blob/gh-pages/subrepos/demography/DiatomSizeESS/DiatomSizeESS.ipynb","edit_url":"https://github.com/organismal-systems/quant-org-bio/edit/gh-pages/subrepos/demography/DiatomSizeESS/DiatomSizeESS.ipynb","thumbnail":"/build/DESS_1-66d190b4d367155717e5088477550c47.png","exports":[{"format":"ipynb","filename":"DiatomSizeESS.ipynb","url":"/build/DiatomSizeESS-4e6e98578f2f9ceda1504083f2ed8a8f.ipynb"}]},"widgets":{"application/vnd.jupyter.widget-state+json":{"state":{},"version_major":2,"version_minor":0}},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"This notebook implements (with some modifications) the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"JRLfEuse1B"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"diatom population dynamics model","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RRttMpJ3N5"}],"key":"UW62OfQofS"},{"type":"text","value":" presented in ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qzvsptmCzp"},{"type":"cite","url":"https://www.pnas.org/doi/epdf/10.1073/pnas.0810891106","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Litchman ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"G10ffbdOht"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"et al.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"mnJ810Syru"}],"key":"ZXrqKdR2Pi"}],"kind":"narrative","label":"Litchman_2009","identifier":"https://www.pnas.org/doi/epdf/10.1073/pnas.0810891106","enumerator":"1","key":"btzrSVM3t1"},{"type":"text","value":".","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KZKqq7wdZC"}],"key":"rGJoZrmBYX"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This model uses ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Mmcrk1UB2m"},{"type":"link","url":"https://en.wikipedia.org/wiki/Allometry","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"allometric","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"iHcUZ5dn0g"}],"urlSource":"wiki:Allometry","data":{"page":"Allometry","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"GgQ3CZLptR"},{"type":"text","value":" trends in growth rates and storage capacities to calculate the population dynamics of different-sized diatom variants.\nThe variants compete for a nutrient (nitrogen in the form of ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QRXO3cHNH1"},{"type":"link","url":"https://en.wikipedia.org/wiki/Nitrate","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"nitrate","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xwCmvtUCwi"}],"urlSource":"wiki:Nitrate","data":{"page":"Nitrate","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"s3BJxqnHOR"},{"type":"text","value":") within a ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Kz5052IbOY"},{"type":"link","url":"/mixedlayers","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"mixed layer","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FEyjA2MwJJ"}],"urlSource":"MixedLayers.md","dataUrl":"/mixedlayers.json","internal":true,"protocol":"file","key":"gZr6gRzgy7"},{"type":"text","value":".\nNutrient is depleted in the mixed layer due to uptake by diatoms.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"E7sYR8sYqY"}],"key":"n31bmkrvrp"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Mixing events (","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"I99JaXN7nX"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"e.g.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EMu2gkvEtR"}],"key":"ly2ntpGwCC"},{"type":"text","value":" storms) occur periodically, that replace a fraction of the water in the mixed layer with deep water.\nThis has two effects: It transports some of the diatom cells into deep water, where they ultimately die; and, it injects nutrient (contained in deep water) into the mixed layer.\nTherefore, a mixing event both lowers the diatom population and provides nutrients to enhance its growth.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Zcc6TJSsKq"}],"key":"BnWQR3XoCW"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Litchman ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"urvqcQq250"},{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"et al.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"I6F3CW61IO"}],"key":"Kd5p62nVlr"},{"type":"text","value":"‚Äòs model is a so-called ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"O1iUvnWq5Q"},{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"quota model","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"CsUTLLky8d"}],"key":"shmL5zpRM3"},{"type":"text","value":".\n‚ÄúQuota‚Äù refers to cells‚Äô storage of nutrients, increasing as cells take up nutrient from the water and decreasing as that nutrient is consumed during growth.\nThe mode tracks the changes over time in:","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"nYBurCnk5C"}],"key":"dEBAnt5fLq"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The number of cells of each diatom variant","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"RnXfg7vIPm"}],"key":"NSh3aNUdI7"}],"key":"E5gqw2KppK"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The quota (amount of stored nutrients) in cells of each diatom variant","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"NUbJ8eqrAx"}],"key":"NzDYHZkxW7"}],"key":"IlC4gpElZx"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The amount of nutrient in the water","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"EVFjCct1Fa"}],"key":"LFFlx0Lzg2"}],"key":"x5aQAMshqb"}],"key":"CyL9Y2fef0"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"The key question asked by Litchman ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"DJa5kkmr08"},{"type":"emphasis","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"et al.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"qmuRBEgkQ9"}],"key":"g2PKMd2agh"},{"type":"text","value":" was,","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"pomekeeup4"}],"key":"R1SruYApFn"},{"type":"blockquote","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Do variations in the frequency and intensity of mixing events, combined with allometries of nutrient storage and use, explain the size distributions of diatoms in different habitats?","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"S1SdiHk1AO"}],"key":"VS4FLTLuYv"}],"key":"oF5O9EiBpF"}],"key":"U2A16ptZDc"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"The rationale and key parameters are explained in ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"OySOvdrrjx"},{"type":"link","url":"/diatomallometry","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"this discussion of diatom allometry","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"IjX97tBHeL"}],"urlSource":"DiatomAllometry.md","dataUrl":"/diatomallometry.json","internal":true,"protocol":"file","key":"a0tiQfKzO5"},{"type":"text","value":" and ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"m02e41Kzjw"},{"type":"link","url":"/allometrysizeselection","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"this discussion of Litchman ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"ggshe7hTF4"},{"type":"emphasis","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"et al.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"kfvtR27WW6"}],"key":"bORSOxRonF"},{"type":"text","value":"'s data analysis","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"C4HR5QQVbt"}],"urlSource":"AllometrySizeSelection.md","dataUrl":"/allometrysizeselection.json","internal":true,"protocol":"file","key":"S3RINvRxnM"},{"type":"text","value":".\nExplanation of the formulation of this model is in ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"dJgzzn1I68"},{"type":"link","url":"/litchman-etal2009","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"this context page","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"GiUmN2BLkc"}],"urlSource":"Litchman_etal2009.md","dataUrl":"/litchman-etal2009.json","internal":true,"protocol":"file","key":"IUOuLt2sBs"},{"type":"text","value":" (and in the original paper).","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"ZnXsdu7tx1"}],"key":"Pt0Lk1JgZR"}],"visibility":"show","key":"NE6pGc4F9m"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How to use this notebook","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VUus1TrE3w"}],"identifier":"how-to-use-this-notebook","label":"How to use this notebook","html_id":"how-to-use-this-notebook","implicit":true,"key":"N2c0cp0voy"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"To use the model, start by selecting ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LLAmN3IKKi"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Run All Cells","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QpUTeCyWZM"}],"key":"kJUOOhJYyR"}],"key":"HmBT6cK9Jt"},{"type":"text","value":" under the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"erIerQ22eL"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Run","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BEbmeauaX4"}],"key":"JO5VKLMofR"}],"key":"o0zkhIBvye"},{"type":"text","value":" menu at the top left of this page.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BNx6Trb9JY"}],"key":"ePBEPn2itN"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The parameters used in simulating diatom population dynamics are presented in three sets of textboxes and execution buttons, which you will use in sequence to:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QLC62C8Itv"}],"key":"hoUdDRGTMB"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Set up the number and size range of diatom variants, and the characteristics of the mixed layer they inhabit.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VaImfn7pMg"}],"key":"JIVeZQvef3"}],"key":"jyleKP7gql"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Seed the mixed layer with one or more of the diatom variants.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RQqEMCIzK7"}],"key":"y2BR3vn7L3"}],"key":"MjB3AjKzDf"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Set the interval between mixing events and how many days to simulate the population.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fD4EpmVqYU"}],"key":"GoOOW6ps0X"}],"key":"pMh8nsNNQA"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Run the simulation and look at the output.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bgwZR21GnA"}],"key":"bKaz4fXo4e"}],"key":"vJg6qOscQE"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Optionally, reseed the population with new cells, and restart the simulation to see how the new set of variants interact.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Lm9HRIopR0"}],"key":"DatSg2aylp"}],"key":"T45wJxgL9z"}],"key":"IKBQAkcAjy"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"From the initial conditions you specify, the model runs through many mixing intervals and the diatom populations approach a repeated pattern.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"cHXqp8kIlj"}],"key":"YxHwmUaVPf"},{"type":"heading","depth":3,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Graphical output","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"claZXQzled"}],"identifier":"graphical-output","label":"Graphical output","html_id":"graphical-output","implicit":true,"key":"HJHIFyVQFL"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"The model produces two sets of graphical output:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"jMnSsFpkvY"}],"key":"Zaf30NPpHf"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Plots of the population (expressed as biovolume) and quota of each variant, and the nutrient concentration, through the last simulated mixing interval.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ThjC5ZcICf"}],"key":"K9gDTN0gDA"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"These ‚Äúperiod‚Äù plots are good indicators of how effectively each variant stores nutrients when it is available, and uses that storage to fuel growth.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"AV17eD9y6w"}],"key":"bzamYa6iae"}],"key":"CRChBb1cbl"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Plots of the averages over each mixing interval of the population and quota of each variant, and the nutrient concentration, over the entire simulation.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"kO4ypy9eVo"}],"key":"LdhAxGAKp1"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"The averaged plots are good indicators of the outcomes of competition between variants, because they show positive or negative population trends over long timespans.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"bESw4VVzt8"}],"key":"HjfQhqqzsI"}],"key":"AiQdK2EsIz"}],"key":"FUdtkRT6fQ"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"strong","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Biovolume","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"nbJAb8jw2P"}],"key":"LHtKsgJazR"},{"type":"text","value":" is the number of cells times the volume of each cell, for each of the size variants. If cell densities are approximately constant, then the biovolume of each variant is approximately proportional to the total biomass of that variant.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"ps493jFgRY"}],"key":"F6BAHlJv3c"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"These plots are automatically saved at the end of each simulation as images, so you can copy and paste them into a document or presentation to record your results.\nThe png format images are ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"TCjlVl7FSz"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"period.png","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"tEoAUVgfmG"}],"key":"HRbax9Jarb"},{"type":"text","value":" and ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ERkEuYEFmg"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"averagred.png","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"sgYbcrYkVl"}],"key":"gGdoFC3r6F"},{"type":"text","value":"; the svg format images are ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"OwTvVxxYDr"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"period.svg","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"nrhpRFNZRP"}],"key":"uofm0jqsb6"},{"type":"text","value":" and ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"vtSa1OA3zV"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"averaged.svg","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"rvXIegHZZS"}],"key":"J8RnQl2KcH"},{"type":"text","value":".","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"MnGngpbvGQ"}],"key":"meeYiOXhHL"},{"type":"heading","depth":3,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Tabular output","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"KFqNZYsKVI"}],"identifier":"tabular-output","label":"Tabular output","html_id":"tabular-output","implicit":true,"key":"qA63dsu0uD"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"The model also produces two tables of period-averaged results for the final mixing period:","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"gF89I5oOlM"}],"key":"rDXQc6YQ8j"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":30,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"A table of ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"W1NKpPwl7Q"},{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"standing stock","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"UZBwhab8ZP"}],"key":"g7j4IB0sTa"},{"type":"text","value":", averaged through the last mixing period.","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"pIhUnbHcPL"}],"key":"sdfidLtTRq"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"This table shows, for each size class:","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"K5SsgKc7lh"}],"key":"Dgb7beCj9N"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"class number (","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"kbjysfffjA"},{"type":"inlineMath","value":"i","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span>","key":"pqBxLBUQ3X"},{"type":"text","value":")","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"Ll4hIjPQSi"}],"key":"JKT97dwW6V"}],"key":"V0hJRy06p4"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"size metric (","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"TggrgOHvx8"},{"type":"inlineMath","value":"s_i","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">s_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"GfJPvrkGCv"},{"type":"text","value":")","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"oI5Jn16Hoi"}],"key":"DSxEjBeY9R"}],"key":"ySEvjiSAG4"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"size (","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"Pj495X2NG8"},{"type":"inlineMath","value":"10^{s_i}","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><msup><mn>0</mn><msub><mi>s</mi><mi>i</mi></msub></msup></mrow><annotation encoding=\"application/x-tex\">10^{s_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>","key":"M6yxeijzrc"},{"type":"text","value":")","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"lQo0W4YXaZ"}],"key":"S5aBXSLnPw"}],"key":"uF7Vo9w3eV"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"number cells per liter (","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"o1lxrmfeMe"},{"type":"inlineMath","value":"N_i","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>N</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">N_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"UVe8FYD1cJ"},{"type":"text","value":")","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"ExllKWPEWu"}],"key":"AxdQIJ8gzK"}],"key":"VGBSTwXiYb"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"relative quota (","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"XXxO54jAn9"},{"type":"inlineMath","value":"\\frac{Q_i}{Q_{i,min}}","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><msub><mi>Q</mi><mi>i</mi></msub><msub><mi>Q</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{Q_i}{Q_{i,min}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4668em;vertical-align:-0.5423em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9244em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">min</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2819em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.4461em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5423em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>","key":"Rg61pfyBSa"},{"type":"text","value":")","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"hDPuHe1fw9"}],"key":"nCEKJpDdof"}],"key":"yjp7zigcBk"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"biovolume (","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"CaEUd0YDdh"},{"type":"inlineMath","value":"BV_i = N_i \\times 10^{s_i}","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><msub><mi>V</mi><mi>i</mi></msub><mo>=</mo><msub><mi>N</mi><mi>i</mi></msub><mo>√ó</mo><mn>1</mn><msup><mn>0</mn><msub><mi>s</mi><mi>i</mi></msub></msup></mrow><annotation encoding=\"application/x-tex\">BV_i = N_i \\times 10^{s_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">√ó</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>","key":"QLeK0uLyD9"}],"key":"psKyN43cMw"}],"key":"qbLwMeBBb0"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"nutrient concentration, ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"JFt20df5DE"},{"type":"inlineMath","value":"R","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>","key":"tO2JuztMZN"}],"key":"fJQlbEYAjd"}],"key":"oysUR8S71p"}],"key":"ypw5bRVdcc"},{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Note that ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"JwlvKLl8vw"},{"type":"inlineMath","value":"R","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>","key":"I7XrRFW7K8"},{"type":"text","value":" reflects the entire mixed layer, and does not vary by diatom size ‚Äì it is included in each row only to make a complete table for import into a spreadsheet.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"mmAQ5lUuea"}],"key":"aWVungVDJZ"}],"key":"R3jdjno8E9"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"A table of ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"sLPngdQLWm"},{"type":"strong","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"diatom population losses","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"nrg8Ifbjz5"}],"key":"hzqomLbMXx"},{"type":"text","value":" (in units of biovolume per day), averaged through the last mixing period.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"pLJJ3r8C14"}],"key":"mOKmNQNOne"},{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"This table shows, for each size class:","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"swvNSnsfkl"}],"key":"B4tawfsmm4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":46,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"class number (","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"TLcOZShZ2F"},{"type":"inlineMath","value":"i","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span>","key":"EMmBxrLVLO"},{"type":"text","value":")","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"fw354pmZB4"}],"key":"tlFEPAwPGq"}],"key":"J5TaJdcu72"},{"type":"listItem","spread":true,"position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"size metric (","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"KYhtYxZltq"},{"type":"inlineMath","value":"s_i","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">s_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"MNHJxgfaUQ"},{"type":"text","value":")","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"niVXBA0jPa"}],"key":"H1G8CXw6qh"}],"key":"mjODIUyk2D"},{"type":"listItem","spread":true,"position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"size (","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"UPtT8HzPGW"},{"type":"inlineMath","value":"10^{s_i}","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><msup><mn>0</mn><msub><mi>s</mi><mi>i</mi></msub></msup></mrow><annotation encoding=\"application/x-tex\">10^{s_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>","key":"CjBJoew7I7"},{"type":"text","value":")","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"bFbuhdPJuj"}],"key":"kQrJnQd1Mf"}],"key":"eRyEsqG1Hm"},{"type":"listItem","spread":true,"position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"losses due ‚Äúbackground‚Äù mortality, ","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"Y1uho70F2d"},{"type":"inlineMath","value":"M","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span>","key":"vtwNugmTzc"}],"key":"tNzNB0VjEk"}],"key":"A8xwylqNwQ"},{"type":"listItem","spread":true,"position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"losses due to sinking out of the mixed layer, ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"suZVE7D5nF"},{"type":"inlineMath","value":"S","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span>","key":"rMi8PbzOnZ"}],"key":"LjtiH9XJgZ"}],"key":"jiDPhhm0nr"},{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"losses transport to deep water by mixing events (","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"Qs0Hl6ffLc"},{"type":"inlineMath","value":"L","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">L</span></span></span></span>","key":"ytP9appYT6"},{"type":"text","value":")","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"voXH2U3kgw"}],"key":"jC1huw5bGE"}],"key":"L0gVl7dg4m"}],"key":"tghNIaels5"}],"key":"iCfRRxjHig"}],"key":"W7ukKkdduh"}],"visibility":"show","key":"JWbGmq0VzD"},{"type":"block","kind":"notebook-code","data":{"editable":true,"jupyter":{"source_hidden":true},"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Load modules and set graphics environment\n%matplotlib widget\nimport numpy as np\nfrom matplotlib import pyplot as plt\n#plt.ion();\nfrom ipywidgets import interact, interactive, fixed, interact_manual\nimport ipywidgets as widgets\nfrom math import *\nfrom Litchman2009 import diatoms","visibility":"show","key":"SjBMq2PTLC"},{"type":"outputs","id":"bXJ4nTj8mYTb53i7fkmAe","children":[],"visibility":"show","key":"iI3XvjZyQL"}],"visibility":"hide","key":"wZb5aDyIEs"},{"type":"block","kind":"notebook-code","data":{"editable":true,"jupyter":{"source_hidden":true},"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Instantiate a Params object and a GUI to modify parameters. \n#params=Params(auto_plot=True)\nh = '27px'\nn_sizes=widgets.IntText(value=8,width=10,description = r\"$n_{sizes}$\")\nL_n_sizes = widgets.Label(value='Number size classes',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-end\",width=\"100%\",height=h))\nmin_size=widgets.FloatText(value=2.5,\n                               description = r\"$S_{min} (log_{10})$\")\nL_min_size = widgets.Label(value='Min. cell size',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-end\",width=\"100%\",height=h))\nmax_size=widgets.FloatText(value=2.5+1.25*8,\n                               description = r\"$S_{max} (log_{10})$\")\nL_max_size = widgets.Label(value='Max cell size',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-end\",width=\"100%\",height=h))\nqinit=widgets.FloatText(value=0.1,description = r\"$q_{init}$\")\nL_qinit = widgets.Label(value='Initial fractional quota',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nm=widgets.FloatText(value=0.08,description = r\"$m$\")\nL_m = widgets.Label(value='Mortality rate ($day^{-1}$)',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nz_m=widgets.FloatText(value=25,description = r\"$z_m$\")\nL_z_m = widgets.Label(value='Mixed layer depth ($m$)',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\na=widgets.FloatText(value=0.3,description = r\"$a$\")\nL_a = widgets.Label(value='Fractional mixing',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nRdeep=widgets.FloatText(value=40.,description = r\"$R_{deep}$\")\nL_Rdeep = widgets.Label(value='Deep nitrogen',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nui1 = widgets.VBox([n_sizes,min_size,max_size,m])\nui2 = widgets.VBox([a,Rdeep,z_m])\nuiL1 = widgets.VBox([L_n_sizes,L_min_size,L_max_size,L_m])\nuiL2 = widgets.VBox([L_a,L_Rdeep,L_z_m])","visibility":"show","key":"gE4ijE4vjS"},{"type":"outputs","id":"kUEDXdrf_yqyH82vWyz4i","children":[],"visibility":"show","key":"aZbYwEbqBP"}],"visibility":"hide","key":"cTvdizz2uY"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setting up diatom variants and mixed layer characteristics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xiz8otkcwv"}],"identifier":"setting-up-diatom-variants-and-mixed-layer-characteristics","label":"Setting up diatom variants and mixed layer characteristics","html_id":"setting-up-diatom-variants-and-mixed-layer-characteristics","implicit":true,"key":"yslUWiKOUu"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"This part of the notebook lets you set up the ‚Äúscenario‚Äù of diatom variants and mixed layer characteristics.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Vs0oTym84K"}],"key":"Ap3Q2ZUCIH"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The parameters are:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JVhGy9KufF"}],"key":"kixqNKGwjU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"N_{sizes}","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>N</mi><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi><mi>s</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">N_{sizes}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">zes</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"nEqYeoL8rs"},{"type":"text","value":", the number of diatom variants","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OKX35eCSIo"}],"key":"XjSuV6dZN7"}],"key":"sWJ5uKKqhX"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"S_{min}","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">S_{min}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">min</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"hS4as2zUch"},{"type":"text","value":" and ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zroFiyMyeZ"},{"type":"inlineMath","value":"S_{max}","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">S_{max}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">ma</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"NYU63qJOAe"},{"type":"text","value":", the minumum and maximum sizes of the variants (variants will be distributed across this range)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QunL7cli36"}],"key":"TgPfBgZXOe"}],"key":"mvFY5D6aCN"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"m","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span>","key":"bwgKRRldpQ"},{"type":"text","value":", the mortality rate due to predation, pathogens, ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZpfoOSk7Rt"},{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"etc.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Nk40HSGgJt"}],"key":"Q3TuWIvZ2J"},{"type":"text","value":", affecting all variants equally","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Ecpqmshgqe"}],"key":"OaOqmMC97D"}],"key":"k13XG7Gl49"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"z_m","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>z</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">z_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.044em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"Bto4bHXeYr"},{"type":"text","value":", the depth of the mixed layer; a shallower layer means more loss due to sinking, which disproportionately affects larger cells.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZbOiaU6f2t"}],"key":"T1jeUUxMeS"}],"key":"ZIGG7rtDGJ"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"a","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>","key":"UzCgA99dc2"},{"type":"text","value":", the fraction (between 0 and 1) of the mixed layer that is replaced in each mixing events. Larger ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"TFwxQbEPNu"},{"type":"inlineMath","value":"a","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>","key":"koPg3Shwie"},{"type":"text","value":" means more cells are lost, but more nutrients are gained.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"EIxBIoG8ZK"}],"key":"wycfQTaQyz"}],"key":"IJzq7uR96q"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"R_{deep}","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>R</mi><mrow><mi>d</mi><mi>e</mi><mi>e</mi><mi>p</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">R_{deep}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">ee</span><span class=\"mord mathnormal mtight\">p</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"alTXJtQoOZ"},{"type":"text","value":", the nutrient concentration in deep water.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"U3dDPYwgMs"}],"key":"aoZXei4Uoo"}],"key":"POaDoZtfyP"}],"key":"ClFlJggrVx"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"It is a good strategy to start with these default values, to see their results, then modify one of more to see the effects of those changes.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"qkq2G5lF4z"}],"key":"ti6EidtzRX"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"When you have the parameters you want, click the ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cFNyxaXmlB"},{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Set up population","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"l9uAUYyasl"}],"key":"YSDb6E5MjU"},{"type":"text","value":" button below to set up the mixed layer.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"QO3lLfgy6b"}],"key":"msd3pXPQVu"}],"visibility":"show","key":"U8wkPj7ihq"},{"type":"block","kind":"notebook-code","data":{"editable":true,"jupyter":{"source_hidden":true},"scrolled":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up textboxes for population characteristics\nisizes=widgets.Text(value='all',description = r\"$i$\")\nL_isizes = widgets.Label(value='Size classes ($S_i$) to seed',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nNseed=widgets.FloatText(value=1,description = r\"$N_i$\")\nL_Nseed = widgets.Label(value='Number cells to seed',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nt_mix=widgets.FloatText(value=8.,description = r\"$t_{mix}$\")\nL_t_mix = widgets.Label(value='Mixing interval ($days$)',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nn_pers=widgets.IntText(value=32,description = r\"$n_{pers}$\")\nL_n_pers = widgets.Label(value='Number of intervals',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nn_record=widgets.IntText(value=12,description = r\"$n_{record}$\")\nL_n_record = widgets.Label(value='Data per interval',layout=widgets.Layout(display=\"flex\", \n                                        justify_content=\"flex-start\",width=\"100%\",height=h))\nui3 = widgets.VBox([qinit,isizes,Nseed])\nui4 = widgets.VBox([t_mix,n_pers,n_record])\nuiL3 = widgets.VBox([L_qinit,L_isizes,L_Nseed])\nuiL4 = widgets.VBox([L_t_mix,L_n_pers,L_n_record])\n\nuis12 = widgets.HBox([uiL1,ui1,ui2,uiL2])\nuis3 = widgets.HBox([uiL3,ui3])\nuis4 = widgets.HBox([ui4,uiL4])\n\nglobal n_sizes_,min_size_,max_size_,m_,a_,Rdeep_,z_m_\ndef setup_pars(n_sizes,min_size,max_size,m,a,Rdeep,z_m):\n    global n_sizes_,min_size_,max_size_,m_,a_,Rdeep_,z_m_\n    # Put current parameters into global equivalents for later use\n    n_sizes_ = n_sizes\n    min_size_ = min_size\n    max_size_ = max_size\n    m_ = m\n    a_ = a\n    Rdeep_ = Rdeep\n    z_m_ = z_m\n\nout12 = widgets.interactive_output(setup_pars,{'n_sizes':n_sizes,'min_size':min_size,'max_size':max_size,\n                                          'm':m,'a':a,'Rdeep':Rdeep,'z_m':z_m})\ndisplay(uis12,out12)","visibility":"show","key":"EUbOZ8aJVc"},{"type":"outputs","id":"WGbIxDKJkBlrITt6DeI_e","children":[],"visibility":"show","key":"pBLWBxPfD1"}],"visibility":"hide","key":"EhJb4C0LuE"},{"type":"block","kind":"notebook-content","data":{"editable":true,"jupyter":{"source_hidden":true},"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"dess_1"},"key":"YfLH3fLanl"},{"type":"image","placeholder":true,"url":"/build/DESS_1-66d190b4d367155717e5088477550c47.png","align":"left","key":"LqwKKmwCQN","urlSource":"./Images/DESS_1.png"}],"enumerator":"1","source":{"label":"dess_1"},"key":"gf8IVeZoTF"}],"visibility":"show","key":"jw6rmO9UDy"},{"type":"block","kind":"notebook-code","data":{"editable":true,"jupyter":{"source_hidden":true},"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up a new diatoms object, using current parameters\nglobal D\nbuttonD = widgets.Button(\n    value=False,\n    description='Set up population',\n    disabled=False,\n    button_style='', # 'success', 'info', 'warning', 'danger' or ''\n    tooltip='Click to set up a simulation model of a diatom population, using the current parameters.',\n    icon='' # (FontAwesome names without the `fa-` prefix)\n)\noutputD = widgets.Output()\n@outputD.capture()\ndef setup(b):\n    global D, n_sizes_,min_size_,max_size_,m_,a_,Rdeep_,z_m_\n    # Initialize diatoms object\n    D = diatoms(z_m=z_m_,n_sizes=n_sizes_,size_range=[min_size_,max_size_],\n                m=m_,a=a_,Rdeep=Rdeep_,static_v=False)\n    D.setup()\n    print('New diatom population initialized...')\nbuttonD.on_click(setup)\nwidgets.VBox([buttonD,outputD])","visibility":"show","key":"DafyqG9Uce"},{"type":"outputs","id":"WeRM0VvYaDiz1xkZYY4GF","children":[],"visibility":"show","key":"AXIrtfjIkI"}],"visibility":"hide","key":"mO3ncRuhZ6"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"dess_2"},"key":"G6JAWmL3ta"},{"type":"image","placeholder":true,"url":"/build/DESS_2-231cb02454594d90fa615eab190edf15.png","align":"left","key":"v8nNCLTwmM","urlSource":"./Images/DESS_2.png"}],"enumerator":"2","source":{"label":"dess_2"},"key":"YlQ48PiPu3"}],"visibility":"show","key":"iOAYhhrUfd"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Seeding the mixed layer with diatom variants","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jFohOk89ng"}],"identifier":"seeding-the-mixed-layer-with-diatom-variants","label":"Seeding the mixed layer with diatom variants","html_id":"seeding-the-mixed-layer-with-diatom-variants","implicit":true,"key":"kahdjfj0yP"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This part of the notebook lets you ‚Äúseed‚Äù diatoms by adding cells into the scenario, as a starting point for simulating population dynamics.\nWhen you set up the mixed layer, the populations of all variants were set to zero.\nUsing these textboxes, you can introduce a starting population of diatoms, either all variants simultaneously or only variants you specify.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Kv5LJ9Gx32"}],"key":"AwsN5YOtlj"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The parameters are:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lZ5YIAeTtL"}],"key":"KN1LtV4CA5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"q_{init}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>q</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">q_{init}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">ini</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"Uv9itgreSt"},{"type":"text","value":", the initial quota in new diatom cells at the start of the simulation","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Gy0LqbCEMw"}],"key":"fkKFOvVCY5"}],"key":"s8ry8Ou5oY"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"S_{i}","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">S_{i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"BNxkQzz1Jv"},{"type":"text","value":", the size classes of the variants with which to seed the mixed layer.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fsEbYo1ya0"}],"key":"t72cDBwTkY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"If this entry is ‚Äúall‚Äù, then all variants will be seeded","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"RYBtwKuzXm"}],"key":"cUpmp03N3o"}],"key":"ghIu96vtAS"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"If this entry is one or more numbers, ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"uAR17uSrqo"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"e.g.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Xgbm8UoI0K"}],"key":"CztmVXfz48"},{"type":"text","value":" ‚Äú1‚Äù or ‚Äú2,6‚Äù then only those size classes will be seeded","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gLjLTEkzix"}],"key":"g6HSWlVY7w"}],"key":"rboFilu0p6"}],"key":"Mz3e35pqNk"}],"key":"vnE9eU9zzW"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"N_i","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>N</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">N_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"CaQT4Urh6L"},{"type":"text","value":", the number of cells to seed into each selected size class.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Annf6Pgtnz"}],"key":"QXSbaSxxAR"}],"key":"ZMm2f4hzPW"}],"key":"l09ZxJRbRa"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"It is a good strategy to start with these default values, to see their results, then modify one of more to see the effects of those changes.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"LFwCiwuM4q"}],"key":"IgdlFIXtjZ"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"When you have the parameters you want, click the ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"BoOdErvlvK"},{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Seed cell population","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"AgsmMIObjH"}],"key":"CBGR4vAmtl"},{"type":"text","value":" button below to set up the scenario.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"BRjPeTQpvK"}],"key":"L1JErbVsf3"}],"visibility":"show","key":"grbY6yvOke"},{"type":"block","kind":"notebook-code","data":{"editable":true,"jupyter":{"source_hidden":true},"scrolled":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Generate textboxes for parameters to seed the population\nglobal qinit_,isizes_,Nseed_\ndef seed_pars(qinit,isizes,Nseed):\n    global qinit_,isizes_,Nseed_\n    # Place parameters for seeding cells into global variables for later use.\n    # This is executed on each parameter change.\n    qinit_ = qinit\n    isizes_ = isizes\n    Nseed_ = Nseed\n\nout3 = widgets.interactive_output(seed_pars,{'qinit':qinit,'isizes':isizes,'Nseed':Nseed})\ndisplay(uis3,out3)","visibility":"show","key":"QlkczWf3oz"},{"type":"outputs","id":"kbSHQmtZEWdEn8_p6AANT","children":[],"visibility":"show","key":"ZbS9rOLLd8"}],"visibility":"hide","key":"WhVeV5loFD"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"dess_3"},"key":"nbCuNi1wTB"},{"type":"image","placeholder":true,"url":"/build/DESS_3-7466eec84babfaeed33e3f2fef8f9d62.png","align":"left","key":"ePjKBwb2AZ","urlSource":"./Images/DESS_3.png"}],"enumerator":"3","source":{"label":"dess_3"},"key":"qKLFbnT2cl"}],"visibility":"show","key":"RfZj4cZcor"},{"type":"block","kind":"notebook-code","data":{"editable":true,"jupyter":{"source_hidden":true},"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"buttonS = widgets.Button(\n    value=False,\n    description='Seed cell population',\n    disabled=False,\n    button_style='', # 'success', 'info', 'warning', 'danger' or ''\n    tooltip='Click to add cells to the current population using the current parameters.',\n    icon='' # (FontAwesome names without the `fa-` prefix)\n)\noutputS = widgets.Output()\n@outputS.capture()\ndef seed(b):\n    global D,qint_,isizes_,Nseed_\n    # Seed selected size class(es), using the parameters set in seed_pars.\n    # This is executed only when the button is clicked. \n    # isizes=='all' means all size classes\n    jsizes = eval(isizes_)\n    if isizes_ == 'all':\n        D.seed(qinit=qinit_,N=Nseed_,sizes='all')\n        print(f'Seeded all size classes with {Nseed_} cells per liter')\n    elif isinstance(eval(isizes_),tuple):  # multiple integers entered\n        if any(i >len(D.sizes)-1 for i in eval(isizes_)):\n            print(f'Size class is outside range -- please choose a different size class.')\n            return\n        D.seed(qinit=qinit_,sizes=list(eval(isizes_)),N=Nseed_)\n        print(f'Seeded selected size classes: {isizes_} with {Nseed_} cells per liter')\n    elif isinstance(jsizes,int):   # a single integer entered\n        if jsizes>len(D.sizes)-1:\n            print(f'Size class is outside range -- please choose a different size class.')\n            return\n        #sizes_ = jsizes #[].append(jsizes)\n        D.seed(qinit=qinit_,sizes=jsizes,N=Nseed_)\n        print(f'Seeded selected size classes: {isizes_} with {Nseed_} cells per liter')\n    else:   # none of the above -- ask for new input\n        print(f'Invalid size selection -- please choose a different size class.')\n        return\n    print(f'Current cell populations are {D.Ns}')\nbuttonS.on_click(seed)\nwidgets.VBox([buttonS,outputS])","visibility":"show","key":"c5dKGMQFkC"},{"type":"outputs","id":"SA3qo5U4-QhohV9zdhp3d","children":[],"visibility":"show","key":"Veshnqk7bO"}],"visibility":"hide","key":"gmNrH4N3du"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"dess_4"},"key":"aMbNpAdjmN"},{"type":"image","placeholder":true,"url":"/build/DESS_4-1e1a8277b5c4052f78f26a357c826013.png","align":"left","key":"mUWCgsqORY","urlSource":"./Images/DESS_4.png"}],"enumerator":"4","source":{"label":"dess_4"},"key":"RhOwHJIAnQ"}],"visibility":"show","key":"Kn1p3jNUAK"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setting mixing event intervals, and running the simulation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JALRD24o21"}],"identifier":"setting-mixing-event-intervals-and-running-the-simulation","label":"Setting mixing event intervals, and running the simulation","html_id":"setting-mixing-event-intervals-and-running-the-simulation","implicit":true,"key":"ubDS8Mu9yM"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"This part of the notebook lets you specify the interval between mixing events, to see what the effects different intervals have on competition between diatom variants.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Vc8Mrzyghg"}],"key":"EPcofLPBle"},{"type":"blockquote","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Important:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"rGFc0nUK1X"}],"key":"ZJLN4inghh"},{"type":"text","value":" These parameters run the simulation using the existing diatom populations. If you want to start with a ‚Äúblank slate‚Äù, go back and click the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"LGhW5JvWm6"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Set up population","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"EQf3mKr3Yz"}],"key":"jj8MVIpYWp"},{"type":"text","value":" and ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"nIcD8ZOftW"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Seed cell population","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"TrtB26f0eD"}],"key":"t9V8JSqi1A"},{"type":"text","value":" buttons.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CWGTlutHtS"}],"key":"gVMKEwd1wf"}],"key":"LBarLORJGi"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The parameters are:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bL5cREUsyb"}],"key":"ystA7dXrIv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"t_{mix}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>m</mi><mi>i</mi><mi>x</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{mix}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">mi</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"YYy2NEBWLd"},{"type":"text","value":", the number of days between mixing events","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"irmFjEMSMB"}],"key":"CF4d2mpgnf"}],"key":"VeclaBvffK"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"n_{pers}","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>n</mi><mrow><mi>p</mi><mi>e</mi><mi>r</mi><mi>s</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">n_{pers}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">ers</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"yLGICSanrR"},{"type":"text","value":", the number of mixing periods to simulate","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NZS0e0ItQ4"}],"key":"H0MenHjiUD"}],"key":"XARO7MRf5Q"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineMath","value":"n_{record}","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>n</mi><mrow><mi>r</mi><mi>e</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>d</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">n_{record}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">recor</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"evuLODJVMP"},{"type":"text","value":", the number of data points to record during each period. If the period plots look unsmooth, try increasing this parameter.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"HWPx4KPrCt"}],"key":"lXp4RgsO4K"}],"key":"DjbBR9Aita"}],"key":"ge73qAQQYy"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"It is a good strategy to start with these default values, to see their results, then modify one of more to see the effects of those changes.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"kqHTvmuvZX"}],"key":"TcUBNmAqPJ"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"When you have the parameters you want, click the ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"rd6S7zGcUH"},{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Run simulation","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"KRGoKt6FkN"}],"key":"AdR0VBsJWw"},{"type":"text","value":" button below to simulate the population and plot the results.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"eIZ0a32uk8"}],"key":"GtPSjOwWS6"}],"visibility":"show","key":"RNb6fqGomE"},{"type":"block","kind":"notebook-code","data":{"editable":true,"jupyter":{"source_hidden":true},"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up textboxes for simulation parameters\nglobal t_mix_,n_pers_,n_record_\ndef solve_pars(t_mix,n_pers,n_record):\n    global t_mix_,n_pers_,n_record_\n    # Record ODE solving parameters for later use; this is executed each time\n    # a parameter is changed\n    t_mix_ = t_mix\n    n_pers_ = n_pers\n    n_record_ = n_record\n    \nout4 = widgets.interactive_output(solve_pars,{'t_mix':t_mix,'n_pers':n_pers,'n_record':n_record})\ndisplay(uis4,out4)","visibility":"show","key":"XJghGhUL8f"},{"type":"outputs","id":"GXIRHO3vD-4DaPbpIJ46Z","children":[],"visibility":"show","key":"cru9Mu96Tp"}],"visibility":"hide","key":"CnnEK38uqj"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"dess_5"},"key":"reh9g0fkwv"},{"type":"image","placeholder":true,"url":"/build/DESS_5-b7bce301cdb7161d3b35224957a954ca.png","align":"left","key":"oOXBSnK2fW","urlSource":"./Images/DESS_5.png"}],"enumerator":"5","source":{"label":"dess_5"},"key":"xRyHxSalmG"}],"visibility":"show","key":"ah4moyBY1U"},{"type":"block","kind":"notebook-code","data":{"editable":true,"jupyter":{"source_hidden":true},"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up a button to run simulation with current parameters\nbuttonR = widgets.Button(\n    value=False,\n    description='Run simulation',\n    disabled=False,\n    button_style='', # 'success', 'info', 'warning', 'danger' or ''\n    tooltip='Click to run the simulation from the current state, using the current parameters.',\n    icon='' # (FontAwesome names without the `fa-` prefix)\n)\noutputR = widgets.Output()\n@outputR.capture()\ndef solve(b):\n    global D,t_mix_,n_pers_,n_record_\n    # clear previous output\n    outputR.clear_output()\n    # Seed selected size class(es); isizes==[] means all size classes\n    print('Running simulation...')\n    # Try to close figures, to prevent accumulating too many old copies\n    try:\n        plt.close(fig=D.fig1)\n        plt.close(fig=D.fig2)\n    except:\n        pass\n    D.solveODEs(t_mix=t_mix_,n_pers=n_pers_,n_record=n_record_)\n    print('...done.')\n    # Display output figures\n    D.fig2.show()\n    D.fig1.show()\n    # Save images to files in png and svg formats\n    D.fig1.savefig('period.png')\n    D.fig1.savefig('period.svg')\n    D.fig2.savefig('averaged.png')\n    D.fig2.savefig('averaged.svg')\n    #Image('period.png')\n\nbuttonR.on_click(solve)\nwidgets.VBox([buttonR,outputR])\n","visibility":"show","key":"gIKcuKYrnq"},{"type":"outputs","id":"jDP_2q4nO3_pPOXV5PLID","children":[],"visibility":"show","key":"tz15gI39Xi"}],"visibility":"hide","key":"IdOVJmr37u"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"dess_6"},"key":"U5E4NFw4UT"},{"type":"image","placeholder":true,"url":"/build/DESS_6-a18ade9933d2c8ba94b06d4fb5b884ec.png","align":"left","key":"ujfEdjeKX0","urlSource":"./Images/DESS_6.png"}],"enumerator":"6","source":{"label":"dess_6"},"key":"gWUOXqhrJX"}],"visibility":"show","key":"Z5jhKEOssL"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"dess_7"},"key":"HWkrw6zeOS"},{"type":"image","placeholder":true,"url":"/build/DESS_7-ab0ea7bac4fa128f35d893832d8fc2e8.png","align":"left","key":"L71FZkcEDs","urlSource":"./Images/DESS_7.png"}],"enumerator":"7","source":{"label":"dess_7"},"key":"m7aEpZ6Nbv"}],"visibility":"show","key":"xZPr7oT889"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"r2"},"key":"EMy35gAWvw"},{"type":"image","placeholder":true,"url":"/build/averaged-6d310045474cd3c14f87970f23b26819.png","align":"left","key":"tCsZUjOgxg","urlSource":"./averaged.png"}],"enumerator":"8","source":{"label":"r2"},"key":"f5EQP8SZVV"}],"visibility":"show","key":"aGtXc49MOi"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"container","kind":"figure","children":[{"type":"_lift","align":"left","remove-input":true,"source":{"label":"r1"},"key":"myQkTHWlxN"},{"type":"image","placeholder":true,"url":"/build/period-23ed92f749b49006303f981ab757f9c2.png","align":"left","key":"eG1xZyjynY","urlSource":"./period.png"}],"enumerator":"9","source":{"label":"r1"},"key":"LaenAAIAcQ"}],"visibility":"show","key":"OwRR6epziv"}],"key":"am2ZISEUUI"},"references":{"cite":{"order":["Litchman_2009"],"data":{"Litchman_2009":{"label":"Litchman_2009","enumerator":"1","doi":"10.1073/pnas.0810891106","html":"Litchman, E., Klausmeier, C. A., & Yoshiyama, K. (2009). Contrasting size evolution in marine and freshwater diatoms. <i>Proceedings of the National Academy of Sciences</i>, <i>106</i>(8), 2665‚Äì2670. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1073/pnas.0810891106\">10.1073/pnas.0810891106</a>","url":"https://doi.org/10.1073/pnas.0810891106"}}}},"footer":{"navigation":{"prev":{"title":"üèûÔ∏è Allometry and size-selection in diatoms","url":"/allometrysizeselection","group":"Demography"},"next":{"title":"üõº Understanding the model interface","url":"/modelinterface","group":"Demography"}}},"domain":"http://localhost:3000"}